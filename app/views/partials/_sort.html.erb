<%# expects
  - "current" sort ("date|asc")
  - "query" boolean, false if no q parameter entered
%>

Sort by: <br />
<%# if this is a search page, then default to score, else use title %>
<% date_asc = current == "date|asc" %>
<% date_desc = current == "date|desc" %>
<% title_asc = current == "title|asc" %>
<% title_desc = current == "title|desc" %>
<% score_desc = current == "score|desc" %>

<% if query %>
  <!-- relevancy link -->
  <%# if query exists, then score should be the default and should be displayed %>
  <% score_desc = true if !current %>
  <%= link_to "Relevancy", search_path(sort("score", "desc")), :class => "btn btn-xs #{score_desc == true ? 'btn-info' : 'btn-default'}" %>
<% else %>
  <% title_asc = true if !score_desc && !date_asc && !date_desc && !title_desc %>
<% end %>

<!-- title and date links -->
<%= link_to "Title ^", search_path(sort("title", "asc")), :class => "btn btn-xs #{title_asc == true ? 'btn-info' : 'btn-default'}" %>
<%= link_to "Title v", search_path(sort("title", "desc")), :class => "btn btn-xs #{title_desc == true ? 'btn-info' : 'btn-default'}" %>
<%= link_to "Date ^", search_path(sort("date", "asc")), :class => "btn btn-xs #{date_asc == true ? 'btn-info' : 'btn-default'}" %>
<%= link_to "Date v", search_path(sort("date", "desc")), :class => "btn btn-xs #{date_desc == true ? 'btn-info' : 'btn-default'}" %>
